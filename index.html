<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guapis in Love</title>
  <style>
    body { font-family: sans-serif; margin: 0; padding: 2rem; background-color: #fff0f5; color: #333; }
    .container { max-width: 600px; margin: auto; }
    h1, h2 { text-align: center; }
    button { padding: 1rem; background-color: #ff69b4; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 1rem; }
    .hidden { display: none; }
    select { margin: 0.5rem 0; padding: 0.5rem; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Guapis in Love</h1>
    <div id="game"></div>
  </div>

  <script>
    const game = document.getElementById('game');

    const screens = [
      // Intro
      {
        text: 'Du hast heute einiges aus unserer Vergangenheit wieder erlebt, wir haben gelacht und uns erinnert. Jetzt steht uns ein weiterer grosser Schritt bevor. Doch zuerst sollst du beweisen, wie gut du uns wirklich kennst...'
      },
      // Rätsel 1
      {
        question: 'Welche dieser Aussagen würde am ehesten in einem eurer Gespräche auftauchen?',
        options: [
          { text: 'Beziehungsorientierung bedeutet, rücksicht nehmen auf die Bedürfnisse aller Beteiligten, nicht nur die des Kindes.', correct: true },
          { text: 'Wenn man lange genug kämpft, bekommt man, was man will.', correct: false },
          { text: 'Zucker macht Kinder glücklich.', correct: false }
        ],
        comment: 'Ich bin so froh, haben wir so ähnliche Vorstellungen was Erziehung und ein Kind begleiten bedeutet.'
      },
      // Rätsel 2
      {
        question: 'Ein Kind wird im Kindergarten unfair behandelt. Was tut ihr?',
        options: [
          { text: 'Sofort schimpfen.', correct: false },
          { text: 'Zuerst zuhören, dann vermitteln.', correct: true },
          { text: 'Ignorieren – ist nicht euer Problem.', correct: false }
        ],
        comment: 'Empathisch wie eh und je – so wie wir das lieben.'
      },
      // Rätsel 3
      {
        type: 'match',
        instruction: 'Ordne diese Begriffe den passenden Kategorien zu:',
        pairs: {
          'Salsa': 'Tanzen',
          'Take on me': 'Musik',
          'Bar in Olten': 'Sisieme'
        },
        comment: 'LOVE – weil alles irgendwie genau das ist!'
      },
      // Rätsel 4
      {
        question: 'Welche 3 Zutaten sind in einem typischen veganen Frühstück von euch?',
        options: [
          { text: 'Haferflocken', correct: true },
          { text: 'Lachs', correct: false },
          { text: 'Beeren', correct: true },
          { text: 'Chiasamen', correct: true },
          { text: 'Kuhmilch', correct: false },
          { text: 'Croissant', correct: false }
        ],
        comment: 'Schön, dass mir deheime euse chlini vegani Safespace hend.'
      },
      // Rätsel 5
      {
        type: 'order',
        instruction: 'Ordne diese Ereignisse chronologisch:',
        sequence: [
          'Treffen in der Bar',
          'Minigolf-Date',
          'Kuss auf dem Sofa',
          'Ferien Surfcamp',
          'Urlaub in Ägypten',
          'Von unserem kleinen Wunder erfahren'
        ],
        correctOrder: [0, 1, 2, 3, 4, 5],
        comment: 'Alles richtig! Guapis – vom ersten Treffen bis zum Wunder.'
      },
      // Abschluss
      {
        text: 'Du hast alles erkannt, erspielt und gespürt. Es gibt nichts mehr zu beweisen.'
      },
      {
        text: 'Nur noch eins zu fragen... 💍',
        final: true
      }
    ];

    let current = 0;

    function renderScreen() {
      const data = screens[current];
      game.innerHTML = '';
      const div = document.createElement('div');

      // Multiple Choice
      if (data.question) {
        const h2 = document.createElement('h2');
        h2.textContent = data.question;
        div.appendChild(h2);

        data.options.forEach(opt => {
          const btn = document.createElement('button');
          btn.textContent = opt.text;
          btn.onclick = () => {
            const feedback = document.createElement('p');
            feedback.textContent = opt.correct ? data.comment : 'Nicht ganz... versuch weiter!';
            div.appendChild(feedback);
            const next = document.createElement('button');
            next.textContent = 'Weiter';
            next.onclick = () => { current++; renderScreen(); };
            div.appendChild(next);
          };
          div.appendChild(btn);
        });

      // Match-Rätsel
      } else if (data.type === 'match') {
        const instr = document.createElement('p');
        instr.textContent = data.instruction;
        div.appendChild(instr);

        const entries = Object.entries(data.pairs);
        const selects = [];
        entries.forEach(([key, val]) => {
          const label = document.createElement('label');
          label.textContent = `Wozu passt "${key}"? `;
          const select = document.createElement('select');
          ['Tanzen', 'Musik', 'Sisieme'].forEach(opt => {
            const option = document.createElement('option');
            option.value = opt;
            option.textContent = opt;
            select.appendChild(option);
          });
          selects.push({ select, correct: val });
          div.appendChild(label);
          div.appendChild(select);
          div.appendChild(document.createElement('br'));
        });

        const submit = document.createElement('button');
        submit.textContent = 'Überprüfen';
        submit.onclick = () => {
          const correct = selects.every(s => s.select.value === s.correct);
          const feedback = document.createElement('p');
          feedback.textContent = correct ? data.comment : 'Nicht ganz... probier es nochmals.';
          div.appendChild(feedback);
          if (correct) {
            const next = document.createElement('button');
            next.textContent = 'Weiter';
            next.onclick = () => { current++; renderScreen(); };
            div.appendChild(next);
          }
        };
        div.appendChild(submit);

      // Order-Rätsel
      } else if (data.type === 'order') {
        const instr = document.createElement('p');
        instr.textContent = data.instruction;
        div.appendChild(instr);

        const list = document.createElement('ol');
        data.sequence.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item;
          list.appendChild(li);
        });
        div.appendChild(list);

        const input = document.createElement('input');
        input.placeholder = 'Gib die Reihenfolge ein (z.B. 1,2,3,4,5,6)';
        div.appendChild(input);

        const submit = document.createElement('button');
        submit.textContent = 'Überprüfen';
        submit.onclick = () => {
          const val = input.value.split(',').map(v => parseInt(v.trim()) - 1);
          const correct = val.length === data.correctOrder.length &&
                          val.every((v,i) => v === data.correctOrder[i]);
          const feedback = document.createElement('p');
          feedback.textContent = correct ? data.comment : 'Fast... probier die Reihenfolge nochmal.';
          div.appendChild(feedback);
          if (correct) {
            const next = document.createElement('button');
            next.textContent = 'Weiter';
            next.onclick = () => { current++; renderScreen(); };
            div.appendChild(next);
          }
        };
        div.appendChild(submit);

      // Text oder Finale
      } else if (data.text) {
        const p = document.createElement('p');
        p.textContent = data.text;
        div.appendChild(p);

        const next = document.createElement('button');
        next.textContent = data.final ? 'Antwort anzeigen' : 'Weiter';
        next.onclick = () => {
          if (data.final) {
            div.innerHTML += '<h2>Wetsch du mich hürate? 💛</h2>';
            next.remove();
          } else {
            current++;
            renderScreen();
          }
        };
        div.appendChild(next);
      }

      game.appendChild(div);
    }

    renderScreen();
  </script>
</body>
</html>
